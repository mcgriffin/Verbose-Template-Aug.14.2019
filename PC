#macro( nnl )#end  ## this macro results in "No New Line" being generated when inserted at the end of a statement
*** WARNING *** -> THIS IS A TEST EPR NOTE GENERATED BY FABRICA
Clinic note for $cip.getNoteAuthorClinicianName()
Date of Visit: $cip.getVisitDate()
Visit number: $cip.getVisitId()
Attending Physician: $cip.getNoteAttendingName()
##demographics

We had the pleasure of seeing $cip.demographics("firstName") $cip.demographics("lastName"), $cip.period($cip.demographics("birthDate")) old, on $cip.getVisitDate() in the Head and Neck Clinic for a follow-up appointment.
##diagnosis
#if($cip.getPiSubGroup("diagnosis"))

DIAGNOSIS
#end
##Want dx to show together at the top of the paragraph
#foreach($diagnosis in $noteData.patientInformation.diagnosis)
    #if($diagnosis.pathStageDate)The patient was diagnosed pathologically with a #nnl()
        #if($diagnosis.pathTStage)$diagnosis.pathTStage #end
        #if($diagnosis.pathNStage)$diagnosis.pathNStage #end
        #if($diagnosis.pathMStage)$diagnosis.pathMStage, #end#nnl()
        #if($diagnosis.tumorGrade=='Unknown')$diagnosis.tumorGrade grade #nnl()
        #elseif($diagnosis.tumorGrade)$diagnosis.tumorGrade #nnl()
        #end  
 #if($diagnosis.histology == 'Other')$diagnosis.histologyOther of the #nnl() 
            #elseif($diagnosis.histology)$diagnosis.histology of the 
            #end
        #if($diagnosis.dxLaterality)$cip.expandLeftAndRight($diagnosis.dxLaterality)#end
        #if($diagnosis.diseaseSite) $diagnosis.diseaseSite,#end
        #if($diagnosis.diseaseSubsite) $diagnosis.diseaseSubsite,#end on $cip.formatDate($diagnosis.pathStageDate).
#if($diagnosis.geneMutation) Gene Mutation: $diagnosis.geneMutation
        #end
        #if($diagnosis.geneExpression) Gene Expression: $diagnosis.geneExpression
        #end
    #elseif($diagnosis.clinicalStageDate)The patient was diagnosed clinically with a #nnl()
        #if($diagnosis.clinicalTStage)$diagnosis.clinicalTStage #end#nnl()
        #if($diagnosis.clinicalNStage)$diagnosis.clinicalNStage #end#nnl()
        #if($diagnosis.clinicalMStage)$diagnosis.clinicalMStage, #end#nnl()
        #if($diagnosis.tumorGrade=='Unknown')$diagnosis.tumorGrade grade #nnl()
        #elseif($diagnosis.tumorGrade)$diagnosis.tumorGrade #nnl()
        #end
       #if($diagnosis.histology == 'Other')$diagnosis.histologyOther of the #nnl() 
            #elseif($diagnosis.histology)$diagnosis.histology of the 
            #end
        #if($diagnosis.dxLaterality)$cip.expandLeftAndRight($diagnosis.dxLaterality) #end
        #if($diagnosis.diseaseSite)$diagnosis.diseaseSite, #end
        #if($diagnosis.diseaseSubsite)$diagnosis.diseaseSubsite,#end on $cip.formatDate($diagnosis.clinicalStageDate).
        #if($diagnosis.geneMutation) Gene Mutation: $diagnosis.geneMutation
        #end
        #if($diagnosis.geneExpression) Gene Expression: $diagnosis.geneExpression
        #end
    #end

#end
##Treatment
##Only showing treatments when there is pathological staging
#foreach($diagnosis in $noteData.patientInformation.diagnosis)
    #if ($cip.subGroup($diagnosis, "treatment"))
    
TREATMENT(S)
    #end
    #foreach($tx in $diagnosis.treatment)
        #set($radTx = $cip.subGroup($tx, "radiationTherapyTreatment"))
        #set($chemoTx = $cip.subGroup($tx, "chemotherapyTreatment"))
        #set($surgTx = $cip.subGroup($tx, "surgery"))
        #set($targetedTx = $cip.subGroup($tx, "targetedTherapy"))
        #set($immunoTx = $cip.subGroup($tx, "immunotherapy"))
        #set($hormonalTx = $cip.subGroup($tx, "hormonalTherapy"))
        #set($jTubeTx = $cip.subGroup($tx, "jTube"))
    ##
       
#if($radTx)
        Radiation:#nnl()
        #if($radTx.rtDosePrescribed && $radTx.rtDosePrescribedUnits && $radTx.rtFractionPrescribed)
        The patient was treated with#nnl()
            #if($radTx.radiationTreatmentSubModality) $radTx.radiationTreatmentSubModality, with#nnl()
            #else radiation, with#nnl()
            #end
            $radTx.rtDosePrescribed $radTx.rtDosePrescribedUnits in $radTx.rtFractionPrescribed fractions#nnl()
            #if($radTx.startDate && $radTx.finishDate) from $cip.formatDate($radTx.startDate) to $cip.formatDate($radTx.finishDate). #nnl()
            #elseif($radTx.startDate) starting on $cip.formatDate($radTx.startDate).
            #else.
            #end
        #else The patient received#nnl()
            #if($radTx.radiationTreatmentSubModality) $radTx.radiationTreatmentSubModality#nnl()
            #else radiation#nnl()
            #end
            #if($radTx.startDate && $radTx.finishDate) from $cip.formatDate($radTx.startDate) to $cip.formatDate($radTx.finishDate). #nnl()
            #elseif($radTx.startDate) starting on $cip.formatDate($radTx.startDate).
            #else.
            #end
        #end

        #elseif($chemoTx)
        Chemotherapy: #nnl()
            #if($chemoTx.courseNumber)$chemoTx.courseNumber cycles of#end
            #if($chemoTx.regimen) $chemoTx.regimen #nnl()
            #else Chemotherapy#end
            #if($tx.treatmentIntent)with $tx.treatmentIntent intent#end was given to the patient#nnl()
            #if($chemoTx.finishDate) from $cip.formatDate($chemoTx.startDate) to $cip.formatDate($chemoTx.finishDate). #nnl()
            #else starting on $cip.formatDate($chemoTx.startDate). #nnl()
            #end

        #elseif($surgTx)
        Surgery: #if($surgTx.type)A(n) $surgTx.type,#nnl()
            #else Surgery#nnl()
            #end
            #if($tx.treatmentIntent) with $tx.treatmentIntent intent was performed#nnl()
            #else was performed#nnl()
            #end
            #if($surgTx.surgeryDate) on $cip.formatDate($surgTx.surgeryDate).#nnl()
            #else.
            #end

        #elseif($jTubeTx)
        J-tube: A J-tube was inserted on $cip.formatDate($jTubeTx.jTubeInsertion) #nnl()
            #if($jTubeTx.jTubeRemoval)and removed on $cip.formatDate($jTubeTx.jTubeRemoval). #nnl()
            #end

        #elseif($targetedTx)
        Targeted Therapy Treatment: #nnl()
            #if($targetedTx.targetedTherapyType)$targetedTx.targetedTherapyType was given#nnl()
            #else Targeted therapy was given#end
            #if($targetedTx.targetedTherapyFinishDate) from $cip.formatDate($targetedTx.targetedTherapyStartDate) #nnl()to $cip.formatDate($targetedTx.targetedTherapyFinishDate). #nnl()
            #else, starting on $cip.formatDate($targetedTx.targetedTherapyStartDate).#end

        #elseif($immunoTx)
        Immunotherapy: #nnl()
            #if($immunoTx.immunotherapyType)$immunoTx.immunotherapyType was given#nnl()
            #else Immunotherapy was given#end
            #if($immunoTx.immunotherapyFinishDate) from $cip.formatDate($immunoTx.immunotherapyStartDate) to $cip.formatDate($immunoTx.immunotherapyFinishDate). #nnl()
            #else starting on $cip.formatDate($immunoTx.immunotherapyStartDate). #nnl()
            #end

        #elseif($hormonalTx)
        Hormonal Therapy: #nnl()
            #if($hormonalTx.hormonalTherapyType)$hormonalTx.hormonalTherapyType was given#nnl()
            #else Hormonal therapy was given#end
            #if($hormonalTx.hormonalTherapyFinishDate) from $cip.formatDate($hormonalTx.hormonalTherapyStartDate) to $cip.formatDate($hormonalTx.hormonalTherapyFinishDate).#nnl()
            #else, starting on $cip.formatDate($hormonalTx.hormonalTherapyStartDate).#nnl()
            #end
        #end  ## end of the else if column
    #end  ## end of the foreach treatment loop
#end ## end of the foreach diagnosis loop
##
#if($noteData.patientInformation.patientComplaints)

PATIENT SYNOPSIS
    $noteData.patientInformation.patientComplaints#end

#set($examProcedure = $cip.getPiSubGroup("examinationsAndProcedures"))
#if($examProcedure)
    #if ($cip.subGroup($examProcedure, "headAndNeckBodyRegion"))

PHYSICAL EXAM
A physical exam was performed on the patient.
        #foreach ($exam in $examProcedure.headAndNeckBodyRegion)
            #if ($exam.neck == "Grossly Normal")- Exam of the neck was grossly normal.
            #elseif ($exam.neck == "Abnormal Result")- Exam of the neck was abnormal.
                #if($exam.neckAbnormalResult)   Details of abnormal result: $exam.neckAbnormalResult
                #end
            #end
            #if ($exam.oralCavity == "Grossly Normal")- Exam of the oral cavity was grossly normal.
            #elseif ($exam.oralCavity == "Abnormal Result")- Exam of the oral cavity was abnormal.
                #if($exam.oralCavityAbnormalResult)   Details of abnormal result: $exam.oralCavityAbnormalResult
                #end
            #end
            #if ($exam.oropharynx == "Grossly Normal")- Exam of the oropharynx was grossly normal.
            #elseif ($exam.oropharynx == "Abnormal Result")- Exam of the oropharynx was abnormal.
                #if($exam.oropharynxAbnormalResult)   Details of abnormal result: $exam.oropharynxAbnormalResult
                #end
            #end
            #if ($exam.skinScarLesions == "Grossly Normal")- Exam of the skin/scar/lesions was grossly normal.
            #elseif ($exam.skinScarLesions == "Abnormal Result")- Exam of the skin/scar/lesions was abnormal.
                #if($exam.skinScarLesionsAbnormalResult)   Details of abnormal result: $exam.skinScarLesionsAbnormalResult
                #end
            #end
            #if ($exam.cranialNerves == "Grossly Normal")- Exam of the cranial nerves was grossly normal.
            #elseif ($exam.cranialNerves == "Abnormal Result")- Exam of the cranial nerves was abnormal.
                #if($exam.cranialNerveAbnormalResult)   Details of abnormal result: $exam.cranialNerveAbnormalResult
                #end
            #end
            #if ($exam.nasalCavity == "Grossly Normal")- Exam of the nasal cavity was grossly normal.
            #elseif ($exam.nasalCavity == "Abnormal Result")- Exam of the nasal cavity was abnormal.
                #if($exam.nasalCavityAbnormalResult)   Details of abnormal result: $exam.nasalCavityAbnormalResult
                #end
            #end
            #if ($exam.eyes == "Grossly Normal")- Exam of the eyes was grossly normal.
            #elseif ($exam.eyes == "Abnormal Result")- Exam of the eyes was abnormal.
                #if($exam.eyesAbnormalResult)   Details of abnormal result: $exam.eyesAbnormalResult
                #end
            #end
            #if ($exam.ears == "Grossly Normal")- Exam of the ears was grossly normal.
            #elseif ($exam.ears == "Abnormal Result")- Exam of the ears was abnormal.
                #if($exam.earsAbnormalResult)   Details of abnormal result: $exam.earsAbnormalResult
                #end
            #end
        #end  ##end of foreach
    #end
#set($otherBodyGroup = $cip.subGroup($$examProcedure, "physicalExamOtherRegions"))
#if($otherBodyGroup)
	#set($otherBodyList = $cip.getSubParamSelectedList($otherBodyGroup, "bodyRegions"))
	#foreach($bodyType in $otherBodyList)
		#if($bodyType == "General")- A general exam was performed#nnl()
			#if($otherBodyGroup.general == "Grossly Normal") with results being grossly normal.
			#elseif($otherBodyGroup.general == "Abnormal Result") and findings were abnormal.
				#if($otherBodyGroup.generalAbnormalResult)	Details of abnormal result: $otherBodyGroup.generalAbnormalResult
				#end
			#{else}.
			#end
		#end
		#if($bodyType == "Neurological")- A neurological exam was performed#nnl()
			#if($otherBodyGroup.neurological == "Grossly Normal") with results being grossly normal.
			#elseif($otherBodyGroup.neurological == "Abnormal Result") and findings were abnormal.
				#if($otherBodyGroup.neurologicalAbnormalResult)	Details of abnormal result: $otherBodyGroup.neurologicalAbnormalResult
				#end
			#{else}.
			#end
		#end
		#if($bodyType == "Thorax")- An exam of the thorax was performed.
			#if($otherBodyGroup.lung == "Grossly Normal")	- Exam of the lungs was grossly normal.
			#elseif($otherBodyGroup.lung == "Abnormal Result")	- Exam of the lungs was abnormal.
				#if($otherBodyGroup.lungAbnormalResult)	Details of abnormal result: $otherBodyGroup.lungAbnormalResult
				#end
			#end
			#if($otherBodyGroup.cardiovascular == "Grossly Normal")	- The cardiovascular exam was grossly normal.
			#elseif($otherBodyGroup.cardiovascular == "Abnormal Result")	- The cardiovascular exam was abnormal.
				#if($otherBodyGroup.cardiovascularAbnormalResult)	Details of abnormal result: $otherBodyGroup.cardiovascularAbnormalResult
				#end
			#end
		#end
		#if($bodyType == "Breast")- A breast exam was performed#nnl()
			#if($otherBodyGroup.breast == "Grossly Normal") with results being grossly normal.
			#elseif($otherBodyGroup.breast == "Abnormal Result") and findings were abnormal.
				#if($otherBodyGroup.breastAbnormalResult)	Details of abnormal result: $otherBodyGroup.breastAbnormalResult
				#end
			#{else}.
			#end
		#end
		#if($bodyType == "Abdomen")- An abdominal exam was performed#nnl()
			#if($otherBodyGroup.abdomen == "Grossly Normal") with results being grossly normal.
			#elseif($otherBodyGroup.abdomen == "Abnormal Result") and findings were abnormal.
				#if($otherBodyGroup.abdomenAbnormalResult)	Details of abnormal result: $otherBodyGroup.abdomenAbnormalResult
				#end
			#{else}.
			#end
		#end
		#if($bodyType == "Genital/Rectal")- An exam of the genitalia/rectum was performed.
			#if($otherBodyGroup.gu == "Grossly Normal")	- Findings from the GU exam were grossly normal.
			#elseif($otherBodyGroup.gu == "Abnormal Result")	- Findings from the GU exam were abnormal.
				#if($otherBodyGroup.guAbnormalResult)	Details of abnormal result: $otherBodyGroup.guAbnormalResult
				#end
			#end
			#if($otherBodyGroup.gyne == "Grossly Normal")	- The gynecological exam was grossly normal.
			#elseif($otherBodyGroup.gyne == "Abnormal Result")	- The gynecological exam was abnormal.
				#if($otherBodyGroup.gyneAbnormalResult)	Details of abnormal result: $otherBodyGroup.gyneAbnormalResult
				#end
			#end
		#end
		#if($bodyType == "Extremities")- An exam of the extremities was performed.
			#if($otherBodyGroup.upperExtremities == "Grossly Normal")	- Findings from the exam of the upper extremities were grossly normal.
			#elseif($otherBodyGroup.upperExtremities == "Abnormal Result")	- Findings from the exam of the upper extremities were abnormal.
				#if($otherBodyGroup.upperExtremitiesAbnormalResult)	Details of abnormal result: $otherBodyGroup.upperExtremitiesAbnormalResult
				#end
			#end
			#if($otherBodyGroup.lowerExtremities == "Grossly Normal")	- Findings from the exam of the lower extremities were grossly normal.
			#elseif($otherBodyGroup.lowerExtremities == "Abnormal Result")	- Findings from the exam of the lower extremities were abnormal.
				#if($otherBodyGroup.lowerExtremitiesAbnormalResult)	Details of abnormal result: $otherBodyGroup.lowerExtremitiesAbnormalResult
				#end
			#end
		#end
		#if($bodyType == "Other")
			#if($otherBodyGroup.other)- An exam of the $otherBodyGroup.other exam was performed#nnl()
			#{else}- An exam of an other region: Not specified was performed#nnl()
			#end
			#if($otherBodyGroup.other == "Grossly Normal") with results being grossly normal.
			#elseif($otherBodyGroup.other == "Abnormal Result") and findings were abnormal.
				#if($otherBodyGroup.otherAbnormalResult)	Details of abnormal result: $otherBodyGroup.otherAbnormalResult
				#end
			#{else}.
			#end
		#end
	#end
#end

    #if($examProcedure.biopsy == "Yes" || $examProcedure.scope == "Yes" || $examProcedure.ultrasound =="Yes")   


PROCEDURES
    #end
    #if($examProcedure.biopsy == "Yes") A(n) #nnl()
	#set($biopsyList = $cip.getSubParamSelectedList($examProcedure, "biopsyType"))#nnl()
	#if($biopsyList.size() == 0)biopsy was performed on the patient in clinic.#end
	#foreach($biopsy in $biopsyList)
		#nnl()$biopsy#nnl()
		#if($biopsy == "Other")#nnl()
			#if($examProcedure.biopsyTypeOther)#set($bisopyFlag = "True")
			#{else}#set($bisopyFlag = "False")
			#end
		#end
		#if($foreach.count == $biopsyList.size())
			#if($biopsyList.size() > 1) were performed on the patient in clinic.
			#{else} was performed on the patient in clinic.
			#end
		#elseif($foreach.count == $biopsyList.size() - 1) and #nnl()
		#{else}, #nnl()
		#end#nnl()
	#end#nnl()
    #end#nnl()
#nnl()
		#if($bisopyFlag == "True")
		#nnl()Details of Other Biopsy: $examProcedure.biopsyTypeOther
		#end
		#if($bisopyFlag == "False")
		#nnl()Details of Other Biopsy: Not specified
		#end

    #if($examProcedure.scope == "Yes")- A fiberoptic endoscopy was performed on the patient#nnl()
        #if($examProcedure.scopeResult == "Grossly Normal") with findings being grossly normal.
        #elseif($examProcedure.scopeResult == "Abnormal Result") with findings being abnormal.
        #else.
        #end
        #if($examProcedure.scopeAbnormalResult)   Details of abnormal result: $examProcedure.scopeAbnormalResult
        #end
        #if($examProcedure.larynx == "Grossly Normal")
        - Findings from the fiberoptic endoscopy of the larynx were grossly normal.
        #elseif($examProcedure.larynx == "Abnormal Result")- Findings from the fiberoptic endoscopy of the larynx were abnormal.
        #end
        #if($examProcedure.larynxAbnormalResult)   Details of abnormal larynx result: $examProcedure.larynxAbnormalResult
#end
        #if($examProcedure.hypopharynx == "Grossly Normal")
        - Findings from the fiberoptic endoscopy of the hypopharynx were grossly normal.
        #elseif($examProcedure.hypopharynx == "Abnormal Result")
- Findings from the fiberoptic endoscopy of the hypopharynx were abnormal.
        #end
        #if($examProcedure.hypopharynxAbnormalResult)   Details of abnormal hypopharynx result: $examProcedure.hypopharynxAbnormalResult
#end
    #end

    #if($examProcedure.ultrasound =="Yes")An ultrasound was performed on the patient.
        #if($examProcedure.ultrasoundResult)Findings from the ultrasound are as follows: $examProcedure.ultrasoundResult
#end
    #end
#end
## Test results
#set($testResults = $cip.getPiSubGroup("testResults"))
#if($testResults)

TEST RESULTS
    #if($testResults.bloodworkReviewed == "Yes" && $testResults.imagingReviewed == "Yes")Both bloodwork and imaging were reviewed.
        #if($testResults.bloodworkResults)Bloodwork Results: $testResults.bloodworkResults
        #end
        #if($testResults.imagingResult)Imaging Results: $testResults.imagingResult
        #end
    #elseif($testResults.bloodworkReviewed == "No" && $testResults.imagingReviewed == "No")Bloodwork and imaging were not reviewed.

    #else
        #if($testResults.bloodworkReviewed == "Yes")Bloodwork was reviewed.
            #if($testResults.bloodworkResults)Bloodwork Results: $testResults.bloodworkResults#end
        #end
        #if($testResults.imagingReviewed == "Yes")Imaging was reviewed.
            #if($testResults.imagingResult)Imaging Results: $testResults.imagingResult#end
        #end
    #end
#end
## Followup Plan
#set($planFollowup = $cip.getPiSubGroup("planAndFollowUp"))
#if ($planFollowup)

IMPRESSION AND PLAN
##Outcomes
    #set($outcomes = $cip.getPiSubGroup("outcomes"))
    #set($bloodworkList = $cip.getSubParamSelectedList($planFollowup, "typeOfBloodwork"))#nnl()
    #if($outcomes.diseaseStatus)Disease status: $outcomes.diseaseStatus
    #end
    #if($outcomes.adverseEvents)Adverse events: $outcomes.adverseEvents
    #end
    #if($outcomes.ecog)ECOG: $outcomes.ecog
    #end

           #if($planFollowup.followUpTime && $planFollowup.followUpTimeUnit) We will follow up with the patient in $math.round($planFollowup.followUpTime) $planFollowup.followUpTimeUnit#nnl()
                #if($planFollowup.plan == "Other")

			#if($planFollowup.planOtherDetails)Details of follow up plan: $planFollowup.planOtherDetails.
			#{else}Details of follow up plan: Not Specified
		#end
                #elseif($planFollowup.plan == "Treatment") for treatment.
                #elseif($planFollowup.plan == "Further Investigation") for further investigation.
                #elseif($planFollowup.plan == "Surveillance") for surveillance.
                #else.
                #end
                #if($planFollowup.plan == "Treatment" && $planFollowup.reasonForTreatment)
                Reason for Treatment: $planFollowup.reasonForTreatment
                #end

               #if ($planFollowup.bloodworkRequired == "Yes")Bloodwork required: Yes
               #end
               #if($bloodworkList.size() != 0)Type of Bloodwork: #end
               #foreach($bloodType in $bloodworkList)
			#nnl()$bloodType#nnl()
			#if($bloodType == "Other")
				#if($planFollowup.bloodworkTypeOther)#set($bloodworkFlag = "True")
				#{else}#set($bloodworkFlag = "False")
				#end
			#end
			#if($foreach.count == $bloodworkList.size() - 1) and #nnl()
			#elseif($foreach.count != $bloodworkList.size()), #nnl()
			#end
               #end

		#if($bloodworkFlag == "True")
		#nnl()Details of Other Bloodwork: $planFollowup.bloodworkTypeOther
		#end
		#if($bloodworkFlag == "False")
		#nnl()Details of Other Bloodwork: Not specified
		#end

                #if($planFollowup.biopsyRequired == 'Yes')
                Biopsy required: Yes
                #end
            
            #elseif($planFollowup.plan || $planFollowup.followUpTime || $planFollowup.followUpTimeUnit) We will follow up with the patient#nnl()
                #if($planFollowup.plan == "Other")

			#if($planFollowup.planOtherDetails)Details of follow up plan: $planFollowup.planOtherDetails.
			#{else}Details of follow up plan: Not Specified
		#end
                #elseif($planFollowup.plan == "Treatment") for treatment.
                #elseif($planFollowup.plan == "Further Investigation") for further investigation.
                #elseif($planFollowup.plan == "Surveillance") for surveillance.
                #else.
                #end
                #if($planFollowup.plan == "Treatment" && $planFollowup.reasonForTreatment)
                Reason for Treatment: $planFollowup.reasonForTreatment
                #end

               #if ($planFollowup.bloodworkRequired == "Yes")Bloodwork required: Yes
               #end
               #if($bloodworkList.size() != 0)Type of Bloodwork: #end
               #foreach($bloodType in $bloodworkList)
			#nnl()$bloodType#nnl()
			#if($bloodType == "Other")
				#if($planFollowup.bloodworkTypeOther)#set($bloodworkFlag = "True")
				#{else}#set($bloodworkFlag = "False")
				#end
			#end
			#if($foreach.count == $bloodworkList.size() - 1) and #nnl()
			#elseif($foreach.count != $bloodworkList.size()), #nnl()
			#end
               #end

		#if($bloodworkFlag == "True")
		#nnl()Details of Other Bloodwork: $planFollowup.bloodworkTypeOther
		#end
		#if($bloodworkFlag == "False")
		#nnl()Details of Other Bloodwork: Not specified
		#end

                #if($planFollowup.biopsyRequired == 'Yes')
                Biopsy required: Yes
                #end
        #end

#set($imageGroup = $cip.subGroup($planFollowup, "imaging"))
#if($imageGroup) 
	#set($imageList = $cip.getSubParamSelectedList($imageGroup, "typeOfImaging"))#nnl()
	#foreach($image in $imageList)
		#if($image == "Other")
			#if($imageGroup.otherImaging)#nnl()A $imageGroup.otherImaging will be ordered for the patient#nnl()
			#{else}#nnl()Other imaging: Not specified will be ordered for the patient#nnl()
			#end
		#{else}#nnl()A $image will be ordered for the patient#nnl()
		#end
		#if($image == "Head and Neck CT" && $imageGroup.imageRequiredInTimingHeadAndNeckCT && $imageGroup.imagingRequiredInTimeUnitsHeadAndNeckCT), to be completed in $math.round($imageGroup.imageRequiredInTimingHeadAndNeckCT) $imageGroup.imagingRequiredInTimeUnitsHeadAndNeckCT
		#elseif($image == "Head and Neck MRI" && $imageGroup.imageRequiredInTimingHeadAndNeckMRI && $imageGroup.imagingRequiredInTimeUnitsHeadAndNeckMRI), to be completed in $math.round($imageGroup.imageRequiredInTimingHeadAndNeckMRI) $imageGroup.imagingRequiredInTimeUnitsHeadAndNeckMRI
		#elseif($image == "Brain CT" && $imageGroup.imageRequiredInTimingBrainCT && $imageGroup.imagingRequiredInTimeUnitsBrainCT), to be completed in $math.round($imageGroup.imageRequiredInTimingBrainCT) $imageGroup.imagingRequiredInTimeUnitsBrainCT
		#elseif($image == "Brain MRI" && $imageGroup.imageRequiredInTimingBrainMRI && $imageGroup.imagingRequiredInTimeUnitsBrainMRI), to be completed in $math.round($imageGroup.imageRequiredInTimingBrainMRI) $imageGroup.imagingRequiredInTimeUnitsBrainMRI
		#elseif($image == "Chest CT" && $imageGroup.imageRequiredInTimingChestCT && $imageGroup.imagingRequiredInTimeUnitsChestCT), to be completed in $math.round($imageGroup.imageRequiredInTimingChestCT) $imageGroup.imagingRequiredInTimeUnitsChestCT
		#elseif($image == "Chest X-ray" && $imageGroup.imageRequiredInTimingChestXray && $imageGroup.imagingrequiredInTimeUnitsChestXray), to be completed in $math.round($imageGroup.imageRequiredInTimingChestXray) $imageGroup.imagingrequiredInTimeUnitsChestXray
		#elseif($image == "Neck US" && $imageGroup.imageRequiredInTimingNeckUS && $imageGroup.imagingRequiredInTimeUnitsNeckUS), to be completed in $math.round($imageGroup.imageRequiredInTimingNeckUS) $imageGroup.imagingRequiredInTimeUnitsNeckUS
		#elseif($image == "PET Scan" && $imageGroup.imageRequiredinTimingPETScan && $imageGroup.imagingRequiredInTimeUnitsPETScan), to be completed in $math.round($imageGroup.imageRequiredinTimingPETScan) $imageGroup.imagingRequiredInTimeUnitsPETScan
		#elseif($image == "Other" && $imageGroup.imageRequiredInTimingOther && $imageGroup.imagingRequiredInTimeUnitsOther), to be completed in $math.round($imageGroup.imageRequiredInTimingOther) $imageGroup.imagingRequiredInTimeUnitsOther
		#{else}.
		#end
	#end
#end

#if($planFollowup.referralRequired == "Yes")
#set($referralList = $cip.getSubParamSelectedList($planFollowup, "referralTo"))
#if($referralList.size() == 0)A referral is required.
#{else}The patient will be referred to #end#nnl()
#foreach($referral in $referralList)
	#nnl()$referral#nnl()
	#if($referral == "Other")
			#if($planFollowup.referralToOtherDetails)#set($referralFlag = "True")
			#{else}#set($referralFlag  = "False")
			#end
	#elseif($referral == "Palliative") care#nnl()
	#elseif($referral == "SLP" && $planFollowup.swallowStgudyRequired) for a swallow study#nnl()
	#end
	#if($foreach.count == $referralList.size() - 1) and #nnl()
	#elseif($foreach.count != $referralList.size()), #nnl()
	#end
#end
#end

#if($referralFlag == "True")
#nnl()Details of Other Referral: $planFollowup.referralToOtherDetails
#end
#if($referralFlag == "False")
#nnl()Details of Other Referral: Not specified
#end

    #if($planFollowup.additionalInstructions)
    Additional Follow Up Instructions: $planFollowup.additionalInstructions
    #end

#end ## end of followup plan

## additional instructions
#set($noteCreatorEprId = $cip.noteInfo("noteCreatorEprId"))
#set($lastAuthorEprId = $cip.noteInfo("lastAuthorEprId"))
#set($submitterEprId = $cip.noteInfo("submitterEprId"))

Note originally created by $cip.getClinicianName($lastAuthorEprId)
#if($lastAuthorEprId)Last authored by $cip.getClinicianName($lastAuthorEprId).
#end
#if($submitterEprId)Note submitted by $cip.getClinicianName($submitterEprId).
#end
